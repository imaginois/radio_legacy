define([],function(){return{DEBUG:!0,DEBUG_LEVEL:3,LOCAL:!0,app:{mainContainerSelector:"#view"}}}),require.config({baseUrl:"js/",paths:{vendor:"../bower_components"},waitSeconds:60,urlArgs:function(e,n){var t="v=1";return-1!==n.indexOf("view.html")&&(t="v=2"),(-1===n.indexOf("?")?"?":"&")+t}}),require(["core/manager"],function(e){"use strict";new e}),define(function(e){"use strict";function n(){this.dom=t,this.dom.patch=o,this.dom.h=i}e("config");var t=e("vendor/snabbdom/dist/snabbdom"),o=t.init([e("vendor/snabbdom/dist/snabbdom-class").default,e("vendor/snabbdom/dist/snabbdom-props").default,e("vendor/snabbdom/dist/snabbdom-style").default,e("vendor/snabbdom/dist/snabbdom-eventlisteners").default]),i=e("vendor/snabbdom/dist/h").default;return n}),define(["config","module","core/router","core/dom","helper/log","helper/base","bower_components/flyd/flyd.js"],function(e,n,t,o,i,r,a){"use strict";function s(){function n(){var e=e||c;e.map(r),i.info(t)}function r(e){t.route.apply(t,e)}!function(){var t=a.stream(),r=(new o).dom;n(),i.info("Manager Init Finished",Date.now()),$(e.app.mainContainerSelector),r.h("div#container.two.classes",{style:{background:"red"}},[r.h("span",{style:{fontWeight:"bold"}},"This is bold")," and this is just normal text"]),document.addEventListener("mousemove",t),a.on(function(e){$(".selected")&&$(".selected").classList.remove("selected"),e.target.classList.add("selected")},t)}()}var c=[["/","home"],["/asset","asset",function(){this.heading="I'm page two!",console.log("load Asset")}],["/epg","epg",function(){this.counter=0,this.heading="Hello EPG!",this.$on("#continuewatching","click",function(){this.counter+=1,console.log(this.counter),this.$refresh()}.bind(this))}],["*","error404"]];return s}),define(["config","core/manager","core/template","helper/log"],function(e,n,t,o){"use strict";function i(){function n(e,n,t){var t=t||new Function;"function"==typeof n&&(t=n,n=null);var o=[];Object.defineProperty(t.prototype,"$on",{value:d.on}),Object.defineProperty(t.prototype,"$refresh",{value:d.refresh.bind(void 0,o)}),s[e]={templateId:n,controller:t,onRefresh:o.push.bind(o)}}function t(e){for(var n=0,t=d.length;n<t;n++)for(var o=c.querySelectorAll(d[n][0]),i=0,r=o.length;i<r;i++)o[i][e].apply(o[i],d[n].slice(1))}function i(){t("addEventListener")}function r(){t("removeEventListener")}function a(){c=c||$("#view"),r(),d=[];var e=location.hash.slice(1)||"/",n=s[e]||s.error;if(n&&n.controller){var t=new n.controller;if(!c||!n.templateId)return;n.onRefresh(function(){r(),o.info("Route ",n.templateId,t),i()}),t.$refresh()}}var s={},c=$(e.app.mainContainerSelector),d={on:function(e,n,t){d.push([e,n,t])},refresh:function(e){e.forEach(function(e){e()})}};window.addEventListener("hashchange",a),window.addEventListener("load",a),this.route=n,this.routes=s}return new i}),define(["config","core/manager","helper/log"],function(e,n,t){"use strict";function o(){var e={};this.tmpl=function n(t,o){var i=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[t]=e[t]||n(document.getElementById(t).innerHTML);return o?i(o).replace(new RegExp(">[\n\t ]+<","g"),"><"):i}}return new o});var $=document.querySelector.bind(document);define(["config"],function(e){"use strict";function n(){function n(n){var t=[].slice.call(arguments);e.DEBUG_LEVEL>2&&console.info.apply(console,t)}function t(n){var t=[].slice.call(arguments);e.DEBUG_LEVEL>1&&console.warn.apply(console,t)}function o(n){var t=[].slice.call(arguments);e.DEBUG_LEVEL>0&&console.error.apply(console,t)}return{info:n,warn:t,error:o}}return new n}),define(["config"],function(e){"use strict";function n(){var n=this,o=e.REMOTE_DEBUG_URL||"http://172.31.8.29/api/log";return this.methods={info:function(t){var o=n.api.dataTransformer(t,"info");e.REMOTE_DEBUG&&n.api.post(o)},error:function(t){var o=n.api.dataTransformer(t,"error");e.REMOTE_DEBUG&&n.api.post(o)},keydown:function(t){var o=n.api.dataTransformer(t,"keydown");e.REMOTE_DEBUG&&n.api.post(o)},keypress:function(t){var o=n.api.dataTransformer(t,"keypress");e.REMOTE_DEBUG&&n.api.post(o)},xhr:function(t){var o=n.api.dataTransformer(t,"xhr");e.REMOTE_DEBUG&&n.api.post(o)}},this.api={dataTransformer:function(t,o){return{title:"string"==typeof t?t:n.api.stringify(t),content:n.api.stringify({model:e.userData?e.userData.device.deviceModel:"UNKNOWN",user:e.userData?e.userData.accountId:"UNKNOWN",customer:e.userData?e.userData.customerId:"UNKNOWN",username:e.userData?e.userData.userName:"UNKNOWN",callerSTBinfo:n.api.stringify(n.api.getSTBinfo()),activeAppSection:e.App.ActiveSection}),type:o||"info"}},stringify:function(e){var n=[];return JSON.stringify(e,function(e,t){if("object"==typeof t){if(n.indexOf(t)>=0)return;n.push(t)}return t})},getSTBinfo:function(){var e;return $.ajax({url:"http://127.0.0.1:8080/api/EasterEgg?key=00001234",method:"GET",async:!1}).done(function(n){e=n}),e},get:function(){$.get(o,function(n){e.REMOTE_DEBUG_LOG_LEVEL>2&&console.info(JSON.parse(n))})},post:function(n){var t=function(){$.post(o,n).done(function(n){e.REMOTE_DEBUG_LOG_LEVEL>2&&console.info(n)}).fail(function(n){e.REMOTE_DEBUG_LOG_LEVEL>0&&console.error("Sending remote log failed ",n)})};setTimeout(t,1e3)}},{info:this.methods.info,error:this.methods.error,xhr:this.methods.xhr,keypress:this.methods.keypress,keydown:this.methods.keydown,timings:new t(window)}}var t=function(n){return n.timing=n.timing||{getTimes:function(e){var t=(n.performance||n.webkitPerformance||n.msPerformance||n.mozPerformance).timing,o={};if(e=e||{},t){if(e&&!e.simple)for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);if(void 0===o.firstPaint){var r=0;n.chrome&&n.chrome.loadTimes?(r=1e3*n.chrome.loadTimes().firstPaintTime,o.firstPaintTime=r-1e3*n.chrome.loadTimes().startLoadTime):"number"==typeof n.performance.timing.msFirstPaint&&(r=n.performance.timing.msFirstPaint,o.firstPaintTime=r-n.performance.timing.navigationStart),e&&!e.simple&&(o.firstPaint=r)}o.loadTime=t.loadEventEnd-t.navigationStart,o.domReadyTime=t.domComplete-t.domInteractive,o.readyStart=t.fetchStart-t.navigationStart,o.redirectTime=t.redirectEnd-t.redirectStart,o.appcacheTime=t.domainLookupStart-t.fetchStart,o.unloadEventTime=t.unloadEventEnd-t.unloadEventStart,o.lookupDomainTime=t.domainLookupEnd-t.domainLookupStart,o.connectTime=t.connectEnd-t.connectStart,o.requestTime=t.responseEnd-t.requestStart,o.initDomTreeTime=t.domInteractive-t.responseEnd,o.loadEventTime=t.loadEventEnd-t.loadEventStart}return o},printTable:function(e){var n={},t=this.getTimes(e);Object.keys(t).sort().forEach(function(e){n[e]={ms:t[e],s:+(t[e]/1e3).toFixed(2)}})},printSimpleTable:function(){this.printTable({simple:!0})}},e.ENVIRONMENT_LOCAL&&e.ENVIRONMENT_DEBUG&&timing.printSimpleTable(),timing};return function(){window.onoffline=function(){console.log(arguments)},window.online=function(){console.log(arguments)},window.onpaint=function(){console.log(arguments)},window.onkeypress=function(e){e.code,e.key,e.keyCode,e.target.tagName,e.srcElement.tagName},window.onkeydown=function(e){e.code,e.key,e.keyCode,e.target.tagName,e.srcElement.tagName}}(),new n});